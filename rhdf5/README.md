Going from hdf5 to ?
================

``` r
# library(tidyverse)
# library(bioRad)
# 
# f = "~/Documents/Research/BioDAR/Example_Met_Office_H5_Data_Share/202007170002_polar_pl_radar20b2_augzdr_lp.h5"
# f %>%
#   read_pvolfile() %>%
#   get_scan(3) %>%
#   project_as_ppi() %>%
#   plot(param = "VRADH") # VRADH = radial velocity in m/s
# 
# pvol = read_pvolfile(f)
```

## hdf5r

``` r
f = "~/Documents/Research/BioDAR/Example_Met_Office_H5_Data_Share/202007170002_polar_pl_radar20b2_augzdr_lp.h5"

library(rhdf5)
```

    ## Warning: package 'rhdf5' was built under R version 4.0.3

``` r
d = h5ls(f)
class(d)
```

    ## [1] "data.frame"

``` r
d = h5read(f, "dataset1/data1/data")
class(d)
```

    ## [1] "matrix" "array"

``` r
nrow(d)
```

    ## [1] 425

``` r
d[1:5, ]
```

    ##      [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10] [,11] [,12] [,13] [,14]
    ## [1,]    0    0    0    0    0    0    0    0    0     0     0     0     0     0
    ## [2,]  438  438  439  439  439  440  439  440  439   441   439   439   439   438
    ## [3,]  373  284  348  373  313  287  287  265  331   318   316   301   232   305
    ## [4,]  291  232  277  294  287  277  252  257  357   381   362   242   221   300
    ## [5,]  275  254  263  274  309  325  253  254  271   292   254   241   236   307
    ##      [,15] [,16] [,17] [,18] [,19] [,20] [,21] [,22] [,23] [,24] [,25] [,26]
    ## [1,]     0     0     0     0     0     0     0     0     0     0     0     0
    ## [2,]   438   440   440   439   438   440   438   439   440   439   439   439
    ## [3,]   358   316   376   332   296   278   329   247   324   382   327   313
    ## [4,]   301   247   351   335   274   274   262   255   201   215   233   226
    ## [5,]   257   192   264   326   223   253   319   332   195   165   249   279
    ##      [,27] [,28] [,29] [,30] [,31] [,32] [,33] [,34] [,35] [,36] [,37] [,38]
    ## [1,]     0     0     0     0     0     0     0     0     0     0     0     0
    ## [2,]   439   439   438   441   438   439   439   439   440   440   439   438
    ## [3,]   333   349   331   263   306   304   257   267   230   308   388   384
    ## [4,]   267   269   302   348   370   358   270   245   314   351   311   258
    ## [5,]   259   231   253   301   345   306   384   301   226   298   316   254
    ##      [,39] [,40] [,41] [,42] [,43] [,44] [,45] [,46] [,47] [,48] [,49] [,50]
    ## [1,]     0     0     0     0     0     0     0     0     0     0     0     0
    ## [2,]   441   439   439   441   440   438   439   437   439   439   439   439
    ## [3,]   391   403   447   398   365   417   422   458   503   499   502   442
    ## [4,]   271   203   258   291   373   285   294   279   311   311   319   334
    ## [5,]   243   331   273   351   378   397   226   233   264   290   264   308
    ##      [,51] [,52] [,53] [,54] [,55] [,56] [,57] [,58] [,59] [,60] [,61] [,62]
    ## [1,]     0     0     0     0     0     0     0     0     0     0     0     0
    ## [2,]   439   439   438   437   440   439   438   439   440   439   439   439
    ## [3,]   404   477   510   467   371   376   367   355   386   408   445   423
    ## [4,]   355   335   444   446   460   431   422   481   471   409   438   422
    ## [5,]   287   314   335   330   282   320   283   301   319   262   285   376
    ##      [,63] [,64] [,65] [,66] [,67] [,68] [,69] [,70] [,71] [,72] [,73] [,74]
    ## [1,]     0     0     0     0     0     0     0     0     0     0     0     0
    ## [2,]   440   441   440   440   440   439   440   439   439   439   440   442
    ## [3,]   433   423   463   410   447   451   441   409   365   335   367   406
    ## [4,]   343   408   432   368   379   425   432   403   354   312   307   268
    ## [5,]   371   337   311   292   293   290   313   353   277   350   327   325
    ##      [,75] [,76] [,77] [,78] [,79] [,80] [,81] [,82] [,83] [,84] [,85] [,86]
    ## [1,]     0     0     0     0     0     0     0     0     0     0     0     0
    ## [2,]   442   440   440   440   439   439   439   439   438   439   438   440
    ## [3,]   374   315   342   266   309   369   342   320   346   310   367   347
    ## [4,]   272   250   300   291   294   273   268   292   302   268   271   303
    ## [5,]   314   372   342   357   335   317   339   284   299   319   318   288
    ##      [,87] [,88] [,89] [,90] [,91] [,92] [,93] [,94] [,95] [,96] [,97] [,98]
    ## [1,]     0     0     0     0     0     0     0     0     0     0     0     0
    ## [2,]   437   439   438   439   439   441   438   439   441   443   440   440
    ## [3,]   309   381   402   425   453   454   427   472   505   516   487   430
    ## [4,]   312   380   389   370   355   414   347   436   454   453   386   386
    ## [5,]   260   264   281   307   323   312   303   282   297   267   285   307
    ##      [,99] [,100] [,101] [,102] [,103] [,104] [,105] [,106] [,107] [,108]
    ## [1,]     0      0      0      0      0      0      0      0      0      0
    ## [2,]   438    440    438    437    439    438    439    437    440    438
    ## [3,]   438    420    388    385    451    457    516    492    493    555
    ## [4,]   408    392    364    415    430    481    542    524    524    511
    ## [5,]   320    330    335    332    381    385    433    455    496    485
    ##      [,109] [,110] [,111] [,112] [,113] [,114] [,115] [,116] [,117] [,118]
    ## [1,]      0      0      0      0      0      0      0      0      0      0
    ## [2,]    439    440    439    439    439    440    440    438    439    438
    ## [3,]    525    480    444    435    424    402    441    477    473    507
    ## [4,]    521    529    518    418    358    373    378    403    394    383
    ## [5,]    476    465    469    403    407    409    400    412    407    437
    ##      [,119] [,120] [,121] [,122] [,123] [,124] [,125] [,126] [,127] [,128]
    ## [1,]      0      0      0      0      0      0      0      0      0      0
    ## [2,]    440    441    438    439    439    440    441    446    441    439
    ## [3,]    476    394    310    325    276    345    415    479    443    343
    ## [4,]    442    440    483    490    440    345    319    310    293    270
    ## [5,]    428    414    415    443    402    431    409    383    336    294
    ##      [,129] [,130] [,131] [,132] [,133] [,134] [,135] [,136] [,137] [,138]
    ## [1,]      0      0      0      0      0      0      0      0      0      0
    ## [2,]    440    442    440    438    436    438    439    439    439    438
    ## [3,]    372    386    307    298    279    205    296    366    217    242
    ## [4,]    303    273    238    358    296    274    262    208    258    260
    ## [5,]    254    266    232    213    259    272    335    289    275    245
    ##      [,139] [,140] [,141] [,142] [,143] [,144] [,145] [,146] [,147] [,148]
    ## [1,]      0      0      0      0      0      0      0      0      0      0
    ## [2,]    439    440    439    438    439    439    439    440    439    439
    ## [3,]    247    322    290    219    196    238    262    251    187    259
    ## [4,]    260    258    284    263    295    334    206    237    259    270
    ## [5,]    256    279    253    241    222    275    162    253    262    234
    ##      [,149] [,150] [,151] [,152] [,153] [,154] [,155] [,156] [,157] [,158]
    ## [1,]      0      0      0      0      0      0      0      0      0      0
    ## [2,]    439    439    439    439    440    438    440    439    440    440
    ## [3,]    218    245    239    271    309    262    359    446    290    170
    ## [4,]    272    253    239    217    201    203    248    326    364    355
    ## [5,]    228    274    275    255    235    259    195    252    278    251
    ##      [,159] [,160] [,161] [,162] [,163] [,164] [,165] [,166] [,167] [,168]
    ## [1,]      0      0      0      0      0      0      0      0      0      0
    ## [2,]    439    439    438    437    439    439    440    439    439    439
    ## [3,]    205    308    284    288    195    289    187    221    248    246
    ## [4,]    236    316    246    154    222    224    230    202    197    208
    ## [5,]    259    229    181    221    207    221    247    240    301    241
    ##      [,169] [,170] [,171] [,172] [,173] [,174] [,175] [,176] [,177] [,178]
    ## [1,]      0      0      0      0      0      0      0      0      0      0
    ## [2,]    438    440    440    438    438    438    440    438    439    439
    ## [3,]    284    216    267    217    243    178    217    168    166    128
    ## [4,]    228    170    216    220    199    181    219    291    212    298
    ## [5,]    228    262    330    239    267    231    279    260    281    222
    ##      [,179] [,180] [,181] [,182] [,183] [,184] [,185] [,186] [,187] [,188]
    ## [1,]      0      0      0      0      0      0      0      0      0      0
    ## [2,]    440    439    439    439    438    440    440    439    438    438
    ## [3,]    217    273    151    208    196    275    176    174    226    299
    ## [4,]    223    262    239    250    169    192    161    265    203    188
    ## [5,]    253    330    238    275    238    195    229    263    322    277
    ##      [,189] [,190] [,191] [,192] [,193] [,194] [,195] [,196] [,197] [,198]
    ## [1,]      0      0      0      0      0      0      0      0      0      0
    ## [2,]    439    440    438    439    439    438    440    438    440    438
    ## [3,]    348    308    204    231    265    189    222    233    213    146
    ## [4,]    200    279    261    342    386    257    175    181    158    215
    ## [5,]    217    197    188    168    187    179    197    218    238    218
    ##      [,199] [,200] [,201] [,202] [,203] [,204] [,205] [,206] [,207] [,208]
    ## [1,]      0      0      0      0      0      0      0      0      0      0
    ## [2,]    438    439    438    439    439    437    440    440    440    440
    ## [3,]    194    127    201    158    174    196    240    262    115    148
    ## [4,]    269    264    215    188    180    210    226    259    222    210
    ## [5,]    229    244    236    200    256    324    229    218    233    229
    ##      [,209] [,210] [,211] [,212] [,213] [,214] [,215] [,216] [,217] [,218]
    ## [1,]      0      0      0      0      0      0      0      0      0      0
    ## [2,]    439    440    439    439    440    439    439    438    438    438
    ## [3,]    185    262    232    131    189    155    154    326    281    210
    ## [4,]    292    251    157    166    230    216    197    202    224    186
    ## [5,]    222    243    207    226    265    289    288    234    260    266
    ##      [,219] [,220] [,221] [,222] [,223] [,224] [,225] [,226] [,227] [,228]
    ## [1,]      0      0      0      0      0      0      0      0      0      0
    ## [2,]    437    439    438    439    439    438    438    439    438    439
    ## [3,]    232    280    257    180    214    220    287    306    177    212
    ## [4,]    270    240    337    366    343    348    389    371    368    330
    ## [5,]    342    306    345    392    428    481    480    515    496    431
    ##      [,229] [,230] [,231] [,232] [,233] [,234] [,235] [,236] [,237] [,238]
    ## [1,]      0      0      0      0      0      0      0      0      0      0
    ## [2,]    439    440    438    440    439    439    439    438    438    440
    ## [3,]    145    183    215    193    259    198    218    206    217    224
    ## [4,]    361    292    284    242    220    189    213    205    208    248
    ## [5,]    387    391    370    356    291    274    206    254    251    280
    ##      [,239] [,240] [,241] [,242] [,243] [,244] [,245] [,246] [,247] [,248]
    ## [1,]      0      0      0      0      0      0      0      0      0      0
    ## [2,]    438    439    440    440    438    440    439    438    440    441
    ## [3,]    225    214    254    290    271    232    244    246    240    231
    ## [4,]    212    167    280    213    168    150    209    266    204    214
    ## [5,]    238    237    225    256    209    223    259    312    223    259
    ##      [,249] [,250] [,251] [,252] [,253] [,254] [,255] [,256] [,257] [,258]
    ## [1,]      0      0      0      0      0      0      0      0      0      0
    ## [2,]    438    439    440    439    437    439    438    440    440    441
    ## [3,]    279    286    261    284    261    213    225    327    335    353
    ## [4,]    241    286    272    257    249    253    240    242    247    199
    ## [5,]    277    152    222    218    260    275    218    238    231    277
    ##      [,259] [,260] [,261] [,262] [,263] [,264] [,265] [,266] [,267] [,268]
    ## [1,]      0      0      0      0      0      0      0      0      0      0
    ## [2,]    442    439    440    444    450    444    446    464    443    451
    ## [3,]    353    349    362    357    434    427    466    507    457    436
    ## [4,]    228    323    192    154    198    234    214    421    418    195
    ## [5,]    276    326    251    215    178    239    251    200    263    223
    ##      [,269] [,270] [,271] [,272] [,273] [,274] [,275] [,276] [,277] [,278]
    ## [1,]      0      0      0      0      0      0      0      0      0      0
    ## [2,]    452    450    447    448    460    441    449    459    466    460
    ## [3,]    403    451    446    399    426    424    432    455    456    385
    ## [4,]    256    249    241    302    360    342    315    307    322    334
    ## [5,]    206    212    247    317    249    272    304    306    352    417
    ##      [,279] [,280] [,281] [,282] [,283] [,284] [,285] [,286] [,287] [,288]
    ## [1,]      0      0      0      0      0      0      0      0      0      0
    ## [2,]    445    473    465    450    456    453    448    472    467    474
    ## [3,]    391    468    471    487    467    463    490    496    469    506
    ## [4,]    323    345    383    365    378    373    372    437    431    401
    ## [5,]    427    369    364    309    305    325    382    403    303    283
    ##      [,289] [,290] [,291] [,292] [,293] [,294] [,295] [,296] [,297] [,298]
    ## [1,]      0      0      0      0      0      0      0      0      0      0
    ## [2,]    483    482    462    444    441    452    454    460    448    455
    ## [3,]    507    474    494    459    432    434    428    419    385    373
    ## [4,]    443    409    429    373    453    457    437    376    399    478
    ## [5,]    300    320    296    395    332    323    313    248    204    264
    ##      [,299] [,300] [,301] [,302] [,303] [,304] [,305] [,306] [,307] [,308]
    ## [1,]      0      0      0      0      0      0      0      0      0      0
    ## [2,]    447    451    450    445    450    443    447    448    447    459
    ## [3,]    406    433    423    390    403    405    443    510    525    536
    ## [4,]    481    458    439    383    449    446    482    530    489    417
    ## [5,]    222    265    330    283    238    230    254    306    243    237
    ##      [,309] [,310] [,311] [,312] [,313] [,314] [,315] [,316] [,317] [,318]
    ## [1,]      0      0      0      0      0      0      0      0      0      0
    ## [2,]    483    463    442    464    468    442    454    449    452    455
    ## [3,]    542    487    422    462    449    373    394    407    393    381
    ## [4,]    446    426    383    356    344    399    402    456    410    410
    ## [5,]    299    301    292    286    254    311    315    390    409    408
    ##      [,319] [,320] [,321] [,322] [,323] [,324] [,325] [,326] [,327] [,328]
    ## [1,]      0      0      0      0      0      0      0      0      0      0
    ## [2,]    444    444    458    467    471    480    465    453    525    496
    ## [3,]    377    396    452    454    481    505    499    455    521    524
    ## [4,]    392    532    505    480    499    457    501    458    468    434
    ## [5,]    409    361    363    312    366    372    379    346    433    435
    ##      [,329] [,330] [,331] [,332] [,333] [,334] [,335] [,336] [,337] [,338]
    ## [1,]      0      0      0      0      0      0      0      0      0      0
    ## [2,]    448    468    443    444    451    441    443    449    445    450
    ## [3,]    546    520    536    594    605    493    461    436    395    430
    ## [4,]    437    441    523    477    434    446    436    468    402    450
    ## [5,]    329    310    360    347    419    408    397    429    418    373
    ##      [,339] [,340] [,341] [,342] [,343] [,344] [,345] [,346] [,347] [,348]
    ## [1,]      0      0      0      0      0      0      0      0      0      0
    ## [2,]    451    458    446    444    447    440    439    441    439    446
    ## [3,]    483    492    454    456    446    527    502    462    455    505
    ## [4,]    439    496    461    397    378    396    423    522    541    472
    ## [5,]    391    374    416    379    410    387    368    400    405    391
    ##      [,349] [,350] [,351] [,352] [,353] [,354] [,355] [,356] [,357] [,358]
    ## [1,]      0      0      0      0      0      0      0      0      0      0
    ## [2,]    449    440    440    441    443    440    440    439    439    440
    ## [3,]    520    451    523    525    528    549    404    420    359    416
    ## [4,]    328    328    353    430    448    430    415    384    340    317
    ## [5,]    315    323    345    389    419    397    410    400    380    369
    ##      [,359] [,360]
    ## [1,]      0      0
    ## [2,]    440    438
    ## [3,]    368    356
    ## [4,]    412    436
    ## [5,]    303    346
